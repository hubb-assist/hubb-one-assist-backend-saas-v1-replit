Abaixo estÃ¡ o conteÃºdo completo para um arquivo chamado:

bash
Copiar
Editar
ğŸ“„ /rules.md
markdown
Copiar
Editar
# ğŸ“ HUBB Assist â€” Regras Oficiais do Projeto (Replit + FastAPI)

Este arquivo define as **regras obrigatÃ³rias** para o desenvolvimento do backend do projeto **HUBB ONE Assist** dentro do ambiente Replit.  
Todas as aÃ§Ãµes executadas pelo Replit AI ou por colaboradores devem seguir fielmente estas diretrizes.

---

## ğŸš« Regras de ProibiÃ§Ã£o (NUNCA fazer)

- âŒ **Nunca usar Flask, Flash ou qualquer servidor WSGI**  
  > Este projeto utiliza exclusivamente o framework **FastAPI**, que Ã© baseado em ASGI.  
  > *Por favor, nÃ£o tente usar Flask como proxy, servidor ou intermediÃ¡rio.*

- âŒ **NÃ£o utilizar Gunicorn diretamente**  
  > O servidor padrÃ£o Ã© **Uvicorn**. Gunicorn sÃ³ deve ser usado com workers ASGI avanÃ§ados (nÃ£o se aplica aqui).

- âŒ **NÃ£o criar arquivos como `run_fastapi.py`, `app.py`, `main_flask.py`**  
  > O ponto de entrada Ãºnico da aplicaÃ§Ã£o deve ser `main.py`, dentro da estrutura do projeto.

- âŒ **NÃ£o sobrescrever o Swagger UI (/docs)**  
  > A pÃ¡gina `/` pode exibir uma mensagem HTML informativa, mas **jamais deve redirecionar ou bloquear o acesso ao `/docs`**.

---

## âœ… PadrÃµes obrigatÃ³rios

- âœ… **Framework principal:** `FastAPI`
- âœ… **Servidor:** `Uvicorn`
- âœ… **Banco de Dados:** `PostgreSQL` via `SQLAlchemy`
- âœ… **ORM:** `SQLAlchemy 2.0` + Alembic
- âœ… **ValidaÃ§Ãµes:** `Pydantic v2`
- âœ… **AutenticaÃ§Ã£o:** JWT com Cookies HttpOnly (em mÃ³dulos futuros)
- âœ… **Hash de senha:** `bcrypt`
- âœ… **Env vars:** Lidas via `python-dotenv`
- âœ… **RepositÃ³rio organizado por camadas:**  
  - `app/api/` â€” rotas  
  - `app/services/` â€” lÃ³gica de negÃ³cio  
  - `app/db/` â€” modelos, sessÃ£o, migrations  
  - `app/schemas/` â€” validaÃ§Ãµes com Pydantic

---

## ğŸ“ Estrutura mÃ­nima de diretÃ³rios

app/
â”œâ”€â”€ api/
â”œâ”€â”€ db/
â”œâ”€â”€ services/
â”œâ”€â”€ schemas/
â”œâ”€â”€ main.py
â”œâ”€â”€ init.py

yaml
Copiar
Editar

---

## ğŸŒ LocalizaÃ§Ã£o e idioma

- Todos os comentÃ¡rios, mensagens de log e respostas da API devem estar em **portuguÃªs**.
- A documentaÃ§Ã£o da API (`/docs`) deve estar legÃ­vel em portuguÃªs para facilitar uso clÃ­nico e comercial.

---

## ğŸ§ª Boas prÃ¡ticas adicionais

- âœ… Utilizar nomes de variÃ¡veis claros e autoexplicativos (ex: `usuario`, `email`, `senha_hashed`)
- âœ… Usar UUID como chave primÃ¡ria para usuÃ¡rios e recursos principais
- âœ… Rotas sempre com prefixo `/api/v1/` e organizadas por domÃ­nio
- âœ… NÃ£o duplicar lÃ³gica entre service e controller
- âœ… ComentÃ¡rios devem ser objetivos e somente quando o cÃ³digo nÃ£o for autoexplicativo

---

## ğŸ” SeguranÃ§a

- âœ… JWT com HttpOnly cookies
- âœ… ProteÃ§Ã£o de rotas com roles/papÃ©is (`SUPER_ADMIN`, `DIRETOR`, `COLABORADOR`)
- âœ… Logs sensÃ­veis devem ser filtrados (nunca logar senhas ou tokens)

---

## ğŸ§  InteligÃªncia Artificial (Replit AI Agent)

- ğŸ“Œ Ao utilizar o Replit AI, **instruÃ§Ãµes devem ser dadas sempre com clareza no inÃ­cio do prompt**.
- Sempre reforce:  
  > â€œ**NÃ£o use Flask. Use apenas FastAPI com Uvicorn.**â€

---

## ğŸ“Œ Ãšltima atualizaÃ§Ã£o

- VersÃ£o: `v1.0`
- Data: `2025-05-09`
- ResponsÃ¡vel tÃ©cnico: **Luis Paim**